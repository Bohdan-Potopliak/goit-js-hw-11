{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["`use strict`\n\nconst API_KEY = \"47392325-3e255e53541a2cdc9281782e2\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nfunction searchAPI (search) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: search,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n        })\n    return fetch(`${BASE_URL}?${params}`)\n        .then((res) => {\n        if(!res.ok) {\n        throw new Error(res.statusText);\n        }\n        return res.json();\n        });\n}\n\nexport default searchAPI;","`use strict`\n\nfunction createMarkup (arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            />\n        </a>\n        <ul class=\"bottom-bar\">\n            <li>\n                <p class=\"bottom-txt\">Likes</p>\n                <p class=\"bottom-value\">${likes}</p>\n            </li>\n            <li>\n                <p class=\"bottom-txt\">Views</p>\n                <p class=\"bottom-value\">${views}</p>\n            </li>\n            <li>\n                <p class=\"bottom-txt\">Comments</p>\n                <p class=\"bottom-value\">${comments}</p>\n            </li>\n            <li>\n                <p class=\"bottom-txt\">Downloads</p>\n                <p class=\"bottom-value\">${downloads}</p>\n            </li>\n        </ul>\n    </li>`).join(\"\");\n}\n\nexport default createMarkup;","`use strict`\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport searchAPI from \"./js/pixabay-api\";\nimport createMarkup from \"./js/render-functions\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector(\".js-search-form\");\nconst loader = document.getElementById(\"loader\");\n\nlet lightbox;\n\nform.addEventListener(\"submit\", handlerSearch);\n\nfunction handlerSearch(event) {\n    event.preventDefault();\n    const search = event.target.elements.search.value.trim();\n    if (!validateQuery(search)) return;\n    loader.style.display = \"flex\";\n    searchAPI(search)\n        .then(data => {\n            if (data.hits.length === 0) {\n                noResultsMessage();\n                gallery.innerHTML = \"\";\n                return;\n            }\n            gallery.innerHTML = createMarkup(data.hits);\n            lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionDelay: 250,\n            });\n            lightbox.refresh();\n        })\n        .catch(error => {\n            iziToast.error({\n                message: `Something went wrong: ${error.message}`,\n            });\n        })\n        .finally (() => {\n            loader.style.display = \"none\";\n            event.target.reset()\n        });\n}\n\nfunction noResultsMessage() {\n    iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n    });\n}\n\nfunction validateQuery(query) {\n    if (!query) {\n    iziToast.warning({\n        message: \"Please enter a search query.\",\n    });\n    return false;\n    }\nreturn true;\n}\n\n"],"names":["API_KEY","BASE_URL","searchAPI","search","params","res","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","form","loader","lightbox","handlerSearch","event","validateQuery","data","noResultsMessage","SimpleLightbox","error","iziToast","query"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEjB,SAASC,EAAWC,EAAQ,CACxB,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAS,EACL,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAC/B,KAAMC,GAAQ,CACf,GAAG,CAACA,EAAI,GACR,MAAM,IAAI,MAAMA,EAAI,UAAU,EAE9B,OAAOA,EAAI,MACnB,CAAS,CACT,CClBA,SAASC,EAAcC,EAAK,CACxB,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,wCAEzDL,CAAa;AAAA;AAAA;AAAA,mBAGlCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAMmBC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA,UAGzC,EAAE,KAAK,EAAE,CACnB,CCvBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAS,SAAS,eAAe,QAAQ,EAE/C,IAAIC,EAEJF,EAAK,iBAAiB,SAAUG,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EACpB,MAAMjB,EAASiB,EAAM,OAAO,SAAS,OAAO,MAAM,OAC7CC,EAAclB,CAAM,IACzBc,EAAO,MAAM,QAAU,OACvBf,EAAUC,CAAM,EACX,KAAKmB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBC,IACAR,EAAQ,UAAY,GACpB,MACH,CACDA,EAAQ,UAAYT,EAAagB,EAAK,IAAI,EAC1CJ,EAAW,IAAIM,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC9B,CAAa,EACDN,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMO,GAAS,CACZC,EAAS,MAAM,CACX,QAAS,yBAAyBD,EAAM,OAAO,EAC/D,CAAa,CACb,CAAS,EACA,QAAS,IAAM,CACZR,EAAO,MAAM,QAAU,OACvBG,EAAM,OAAO,MAAO,CAChC,CAAS,EACT,CAEA,SAASG,GAAmB,CACxBG,EAAS,MAAM,CACX,QAAS,0EACjB,CAAK,CACL,CAEA,SAASL,EAAcM,EAAO,CAC1B,OAAKA,EAMF,IALHD,EAAS,QAAQ,CACb,QAAS,8BACjB,CAAK,EACM,GAGX"}